<!DOCTYPE html>
<!-- 
  Buena práctica fundamental (Introducción.pdf):
  - Declarar el idioma con lang="es" mejora la accesibilidad (lectores de pantalla),
    el SEO (motores de búsqueda) y el comportamiento de ciertas APIs (como speechSynthesis).
-->
<html lang="es">

<head>
  <!-- 
    Codificación de caracteres UTF-8 (Introducción.pdf):
    - Debe ir lo más arriba posible, antes de cualquier texto renderizable.
    - Evita errores como "ñ" en lugar de "ñ" o "¿" en lugar de "¿".
  -->
  <meta charset="UTF-8">

  <!-- 
    Meta viewport para diseño responsivo (Introducción.pdf, Color&Fuentes&Espacio.pdf):
    - width=device-width → el ancho del layout coincide con el ancho lógico del dispositivo.
    - initial-scale=1.0 → evita el zoom automático en móviles.
  -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Buenas Prácticas Web + Web Audio API</title>

  <!-- 
    Carga de CSS antes que JS (Introducción.pdf):
    - Evita el "flash of unstyled content" (FOUC).
    - El navegador puede aplicar estilos mientras parsea el HTML.
  -->
  <link rel="stylesheet" href="styles.css">

  <!-- 
    Uso de 'defer' en scripts (Introducción.pdf):
    - El script se descarga en paralelo al parseo del HTML.
    - Se ejecuta SOLO después de que el DOM esté completamente construido.
    - Permite colocar <script> en <head> sin bloquear el renderizado.
    - Alternativa moderna a poner <script> al final de <body>.
  -->
  <script defer src="script.js"></script>
</head>

<body>
  <!-- 
    Estructura semántica completa (Introducción.pdf):
    - <header>: contenido introductorio o de navegación.
    - <main>: contenido principal único de la página.
    - <footer>: información complementaria (autoría, enlaces, etc.).
    - Esto mejora la accesibilidad y la legibilidad del código.
  -->
  <header class="cabecera">
    <h1 class="cabecera__titulo">Demo de Buenas Prácticas Web + Web Audio API</h1>
  </header>

  <main class="contenedor">
    <!-- 
      Componente 1: Temporizador con intervalos (Intervalos.pdf)
      - Usa data-* para comunicación con JS (README.md sobre data-*).
      - Estructura BEM: .tarjeta (bloque), .tarjeta__titulo (elemento), .tarjeta--tempo (modificador).
    -->
    <section class="tarjeta tarjeta--tempo">
      <h2 class="tarjeta__titulo">Temporizador Automático</h2>
      <!-- 
        data-tiempo → puente limpio HTML ↔ JS.
        El valor se actualiza desde JavaScript sin tocar clases ni estilos inline.
      -->
      <p class="tarjeta__dato">Tiempo transcurrido: <span data-tiempo>0</span> segundos</p>
      <div class="tarjeta__acciones">
        <!-- 
          data-accion → identifica la intención del botón sin depender de su texto o clase.
          Permite reutilizar lógica si se añaden más controles en el futuro.
        -->
        <button class="btn btn--primario" data-accion="iniciar">Iniciar</button>
        <button class="btn btn--secundario" data-accion="detener">Detener</button>
      </div>
    </section>

    <!-- 
      Componente 2: Contador manual
      - Similar al temporizador, pero sin intervalos.
      - Muestra separación clara entre estado y presentación.
    -->
    <section class="tarjeta tarjeta--contador">
      <h2 class="tarjeta__titulo">Contador Manual</h2>
      <p class="tarjeta__dato">Valor actual: <span data-cuenta>0</span></p>
      <button class="btn btn--primario" data-accion="incrementar">Incrementar</button>
    </section>

    <!-- 
      Componente 3: Drag & Drop nativo (Introducción.pdf, Web APIs)
      - draggable="true" es obligatorio en el elemento fuente.
      - aria-label mejora accesibilidad para usuarios de lectores de pantalla.
      - data-drop y data-drag permiten selección robusta en JS.
    -->
    <section class="tarjeta tarjeta--drag">
      <h2 class="tarjeta__titulo">Ejemplo de Arrastrar y Soltar</h2>
      <div class="drop-zone" data-drop aria-label="Zona para soltar elementos">
        Suelta aquí el cuadrado
      </div>
      <div class="drag-item" data-drag draggable="true" aria-grabbed="false">
        Arrástrame
      </div>
    </section>

    <!--  ===========================================================
      ➜ Re-ubicación.pdf — nuevo
      Sección 4: demostración visual de POSITION / Z-INDEX
      =========================================================== -->
    <section class="tarjeta tarjeta--posicionamiento">
      <h2 class="tarjeta__titulo">Position &amp; Stacking context</h2>

      <div class="demo-position demo-position--relative">
        <span class="demo-position__label">relative</span>
        <div class="demo-position__box demo-position__box--rel">A</div>
      </div>

      <div class="demo-position demo-position--absolute">
        <span class="demo-position__label">absolute</span>
        <div class="demo-position__box demo-position__box--abs">B</div>
      </div>

      <div class="demo-position demo-position--fixed">
        <span class="demo-position__label">fixed</span>
        <div class="demo-position__box demo-position__box--fix">C</div>
      </div>

      <div class="demo-position demo-position--sticky">
        <span class="demo-position__label">sticky</span>
        <div class="demo-position__box demo-position__box--stk">D</div>
      </div>

      <!--  Z-INDEX  -->
      <div class="demo-zindex">
        <div class="demo-zindex__layer demo-zindex__layer--10">z-index&nbsp;10</div>
        <div class="demo-zindex__layer demo-zindex__layer--20">z-index&nbsp;20</div>
        <div class="demo-zindex__layer demo-zindex__layer--30">z-index&nbsp;30</div>
      </div>
    </section>

    <!--  ===========================================================
      ➜ Re-ubicación.pdf — nuevo
      Sección 5: transformaciones 2-D
      =========================================================== -->
    <section class="tarjeta tarjeta--transforms">
      <h2 class="tarjeta__titulo">Transformaciones (translate / rotate / scale / skew)</h2>

      <div class="demo-transforms">
        <div class="demo-transforms__item  demo-transforms__item--translate">translate</div>
        <div class="demo-transforms__item  demo-transforms__item--rotate">rotate</div>
        <div class="demo-transforms__item  demo-transforms__item--scale">scale</div>
        <div class="demo-transforms__item  demo-transforms__item--skew">skew</div>
      </div>
    </section>

    <!--  ===========================================================
      ➜ Re-ubicación.pdf — nuevo
      Sección 6: pseudoelementos & pseudoclases
      =========================================================== -->
    <section class="tarjeta tarjeta--pseudos">
      <h2 class="tarjeta__titulo">::before / ::after / :hover / attr()</h2>

      <p class="demo-pseudos__texto">
        Pasa el cursor sobre la cita para ver el tooltip implementado
        <strong>sólo con CSS</strong>.
      </p>

      <blockquote class="demo-pseudos__cita" data-tooltip="Conócete a ti mismo — Nosce te ipsum">
        Nosce te ipsum
      </blockquote>
    </section>

    <!--  ===========================================================
      ➜ webAudioAPI.pdf — NUEVO
      Sección 7: Web Audio API - Oscilador Simple
      ===========================================================
      Principios de la Web Audio API (webAudioAPI.pdf):
      - AudioContext: objeto que gestiona un grafo de nodos de audio
      - El usuario DEBE dar permiso para reproducir audio (estado suspended por defecto)
      - Nodos fuente (F): generan sonido (ej. OscillatorNode)
      - Nodos destino (D): envían la señal a los altavoces del sistema
      - Nodos intermedios (I): modifican el sonido (volumen, filtros, etc.)
      
      Estructura del grafo: F → [I]* → D
    -->
    <section class="tarjeta tarjeta--audio-simple">
      <h2 class="tarjeta__titulo">Web Audio API: Oscilador Simple</h2>
      <p class="tarjeta__descripcion">
        Genera una nota de 220 Hz (La3) durante 4 segundos.
      </p>
      <!-- 
        data-audio-accion → identifica acciones relacionadas con audio
        Patrón consistente con data-accion usado en otros componentes
      -->
      <button class="btn btn--primario" data-audio-accion="reproducir-simple">
        Reproducir Nota Simple
      </button>
      <p class="tarjeta__info" data-audio-estado="simple">
        Estado: Detenido
      </p>
    </section>

    <!--  ===========================================================
      Sección 8: Web Audio API - Múltiples Osciladores
      ===========================================================
      Demuestra cómo reproducir varios osciladores simultáneamente
      con diferentes formas de onda y frecuencias (webAudioAPI.pdf)
    -->
    <section class="tarjeta tarjeta--audio-multi">
      <h2 class="tarjeta__titulo">Web Audio API: Múltiples Osciladores</h2>
      <p class="tarjeta__descripcion">
        Reproduce dos osciladores con diferentes timbres y frecuencias.
        Oscilador 1: sinusoidal (220 Hz), Oscilador 2: triangular (210 Hz).
      </p>
      <button class="btn btn--primario" data-audio-accion="reproducir-multi">
        Reproducir Armonía
      </button>
      <p class="tarjeta__info" data-audio-estado="multi">
        Estado: Detenido
      </p>
    </section>

    <!--  ===========================================================
      Sección 9: Web Audio API - AudioParam y setValueAtTime
      ===========================================================
      Demuestra el uso de AudioParam para cambios instantáneos de frecuencia
      (webAudioAPI.pdf - Parámetros de audio)
      
      setValueAtTime(value, time) → Cambio instantáneo en un momento específico
      Los cambios se agendan en orden cronológico, no de aparición en el código
    -->
    <section class="tarjeta tarjeta--audio-acordes">
      <h2 class="tarjeta__titulo">Web Audio API: Cambios Instantáneos (setValueAtTime)</h2>
      <p class="tarjeta__descripcion">
        Reproduce las notas de un acorde Do Mayor de forma secuencial:
        Do4 → Mi4 → Sol4 → Do5
      </p>
      <button class="btn btn--primario" data-audio-accion="reproducir-acordes">
        Reproducir Acorde
      </button>
      <p class="tarjeta__info" data-audio-estado="acordes">
        Estado: Detenido
      </p>
    </section>

    <!--  ===========================================================
      Sección 10: Web Audio API - Rampas (linear/exponential)
      ===========================================================
      Demuestra cambios progresivos de frecuencia (webAudioAPI.pdf)
      
      - linearRampToValueAtTime(value, endTime) → cambio lineal
      - exponentialRampToValueAtTime(value, endTime) → cambio exponencial
      
      IMPORTANTE: Las rampas necesitan un punto de inicio fijado previamente
      con setValueAtTime() para saber desde dónde comenzar el cambio
    -->
    <section class="tarjeta tarjeta--audio-rampas">
      <h2 class="tarjeta__titulo">Web Audio API: Cambios Progresivos (Rampas)</h2>
      <p class="tarjeta__descripcion">
        Demuestra cambios graduales de frecuencia:
        Do4 (estático) → Mi4 (exponencial) → Sol4 (lineal)
      </p>
      <button class="btn btn--primario" data-audio-accion="reproducir-rampas">
        Reproducir Rampas
      </button>
      <p class="tarjeta__info" data-audio-estado="rampas">
        Estado: Detenido
      </p>
    </section>

    <!--  ===========================================================
      Sección 11: Web Audio API - GainNode (Control de Volumen)
      ===========================================================
      Demuestra el uso de nodos intermedios para modificar el sonido
      (webAudioAPI.pdf - Nodos intermedios: GainNode)
      
      GainNode: controla el volumen (ganancia) de la señal de audio
      - gain = 1.0 → sin cambios (por defecto)
      - gain > 1.0 → amplifica el sonido
      - gain < 1.0 → atenúa el sonido
      
      Estructura del grafo: OscillatorNode → GainNode → AudioDestination
    -->
    <section class="tarjeta tarjeta--audio-gain">
      <h2 class="tarjeta__titulo">Web Audio API: Control de Volumen (GainNode)</h2>
      <p class="tarjeta__descripcion">
        Reproduce una nota con fade-in progresivo (0.01 → 0.8).
        Evita la saturación no llegando a gain = 1.0
      </p>
      <button class="btn btn--primario" data-audio-accion="reproducir-gain">
        Reproducir con Fade-in
      </button>
      <p class="tarjeta__info" data-audio-estado="gain">
        Estado: Detenido
      </p>
    </section>
  </main>

  <!-- 
    Footer semántico (Introducción.pdf):
    - Contenido secundario pero útil.
    - Uso de <small> para información legal o de autoría.
  -->
  <footer class="pie">
    <small class="pie__texto">
      Creado con <span aria-label="corazón">❤</span> siguiendo las buenas prácticas de
      <cite>Introducción.pdf</cite>, <cite>Intervalos.pdf</cite>, <cite>Color&Fuentes&Espacio.pdf</cite>
      y <cite>webAudioAPI.pdf</cite>
    </small>
  </footer>
</body>

</html>
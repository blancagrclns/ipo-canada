/* ==========================================================================
   ESTILOS PARA MODOS DE JUEGO ADICIONALES
   ==========================================================================
   - Modo dos tableros
   - Modo rompecabezas
*/

/* ==========================================================================
   MODO DOS TABLEROS
   ========================================================================== */

/* Contenedor para dos tableros en paralelo */
.tablero-contenedor--doble {
  display: flex;
  justify-content: center;
  gap: 40px;
  flex-wrap: nowrap;
}

/* Wrapper para tablero y etiqueta */
.tablero-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--espaciado-s);
  flex: 0 0 auto;
}

/* Etiqueta para identificar cada tablero */
.tablero__etiqueta {
  font-weight: 600;
  color: var(--color-primario);
}

/* Estilos específicos para tablero origen y destino */
.tablero--origen,
.tablero--destino {
  min-width: auto;
  min-height: auto;
}

/* Celda vacía en tablero destino */
.celda-vacia {
  border: 0.125rem dashed var(--color-borde);
  border-radius: var(--radio-borde);
  transition: border-color 0.3s, background-color 0.3s;
  display: flex;
  justify-content: center;
  align-items: center;
  width: var(--ficha-mediana);
  height: var(--ficha-mediana);
}

/* Estado hover/destino para celda vacía */
.celda-vacia--destino {
  border-color: var(--color-primario);
  background-color: var(--color-celda-destino);
}

/* ==========================================================================
   MODO ROMPECABEZAS
   ========================================================================== */

/* Ficha con fragmento de imagen */
.ficha--rompecabezas {
  background-size: cover;
  background-repeat: no-repeat;
  position: relative;
}

/* Número de posición en cada pieza del rompecabezas */
.ficha--rompecabezas::after {
  content: attr(data-posicion-correcta);
  position: absolute;
  bottom: 0.25rem;
  right: 0.25rem;
  font-size: 0.75rem;
  background-color: rgba(0, 0, 0, 0.7);
  color: white;
  padding: 0.25rem 0.5rem;
  border-radius: 0.25rem;
  opacity: 0.9;
  font-weight: bold;
}

/* Mensaje de carga durante la carga de la imagen */
.cargando-mensaje {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
  padding: var(--espaciado-xl);
  color: var(--color-primario);
  font-weight: bold;
  text-align: center;
  border: 2px dashed var(--color-borde);
  border-radius: var(--radio-borde);
  background-color: var(--color-primario-claro);
  min-height: 10rem;
}

[data-theme="dark"] .cargando-mensaje {
  background-color: var(--color-primario-claro);
  color: var(--color-texto);
}

/* ==========================================================================
   ADAPTACIONES RESPONSIVE PARA MODOS ESPECIALES
   ========================================================================== */

@media (max-width: 48rem) { /* 768px */
  .tablero-contenedor--doble {
    flex-direction: column;
    align-items: center;
  }

  .tablero--origen,
  .tablero--destino {
    width: 100%;
    min-width: auto;
  }
}

/* ==========================================================================
   TEMA OSCURO 
   ========================================================================== */

[data-theme="dark"] .celda-vacia {
  border-color: var(--color-borde);
}

[data-theme="dark"] .celda-vacia--destino {
  border-color: var(--color-primario);
  background-color: var(--color-celda-destino-oscura);
}

[data-theme="dark"] .tablero__etiqueta {
  color: var(--color-primario);
}

[data-theme="dark"] .ficha--rompecabezas::after {
  background-color: var(--color-overlay-oscuro);
  color: var(--color-texto-invertido);
}

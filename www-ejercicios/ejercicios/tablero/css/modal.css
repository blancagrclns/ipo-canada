/* ==========================================================================
   MODALES - Ventanas de diálogo y notificaciones
   ==========================================================================
   ESTRUCTURA BASE DE MODALES
   - Propiedades compartidas por todos los tipos de modal
   - Establecen apariencia básica y comportamientos de interacción
   ========================================================================== */
.modal {
  border: none;
  border-radius: var(--radio-borde);
  padding: 0;
  box-shadow: var(--sombra-fuerte);
  margin: auto;
}

/* Fondo semi-transparente con desenfoque para profundidad */
.modal::backdrop {
  background-color: var(--color-modal-backdrop);
  backdrop-filter: blur(0.1875rem);
}

.modal__contenido {
  padding: var(--espaciado-xl);
  display: flex;
  flex-direction: column;
  gap: var(--espaciado-l);
}

.modal__titulo {
  color: var(--color-primario);
  /* Eliminamos margin-bottom: var(--espaciado-l); */
  padding-bottom: var(--espaciado-s);
  border-bottom: 0.125rem solid var(--color-borde);
  font-size: 1.8rem;
}

/* Agrupación de botones con espaciado consistente */
.modal__botones {
  display: flex;
  justify-content: center;
  gap: var(--espaciado);
  /* Eliminamos margin-top: var(--espaciado-l); */
  /* El gap en .modal__contenido ya maneja este espaciado */
}

/* Estilo base para botones de acción en modales */
.modal__boton {
  padding: var(--espaciado-s) var(--espaciado-l);
  background-color: var(--color-primario);
  color: var(--color-texto-invertido);
  border: none;
  border-radius: 0.25rem;
  cursor: pointer;
  font-weight: 600;
  transition: background-color 0.3s, transform 0.2s;
  min-width: 8.75rem; /* 140px */
}

.modal__boton:hover {
  background-color: var(--color-primario-oscuro);
  transform: translateY(-0.125rem);
}

/* Variante secundaria para botones menos prominentes */
.modal__boton--secundario {
  background-color: var(--color-borde);
  color: var(--color-texto);
}

.modal__boton--secundario:hover {
  background-color: var(--color-boton-secundario-hover);
}

/* ==========================================================================
   MODAL DE ESTADÍSTICAS/VICTORIA:
   - Diseño conciso para mostrar resultados del juego
   - Énfasis visual en estadísticas importantes
   ========================================================================== */
#modal-victoria {
  max-width: 90%;
  width: 25rem; /* 400px */
}

#modal-victoria .modal__contenido {
  text-align: center;
  display: flex;
  flex-direction: column;
  gap: var(--espaciado-l);
}


#modal-victoria .modal__estadisticas {
  background-color: var(--color-primario-claro);
  padding: var(--espaciado);
  border-radius: var(--radio-borde);
  /* Eliminamos margin-bottom: var(--espaciado-l); */
  font-weight: 600;
}

/* ==========================================================================
   MODAL DE AYUDA:
   - Layout amplio para contenido educacional/instructivo
   - Secciones claras con jerarquía visual
   ========================================================================== */
#modal-ayuda {
  max-width: 95%;
  width: 90%; 
}

#modal-ayuda .modal__contenido {
  text-align: left;
}

#modal-ayuda .modal__titulo {
  text-align: center;
}

/* Layout de múltiples columnas para mejor organización */
.modal-ayuda__secciones {
  display: flex;
  flex-wrap: wrap;
  gap: var(--espaciado-l);
  justify-content: space-between;
  /* Eliminamos margin-bottom: var(--espaciado-xl); */
}

.modal-ayuda__seccion {
  flex: 1;
  min-width: 15.625rem; /* 250px */
  /* Eliminamos margin-bottom: var(--espaciado); */
  padding: var(--espaciado);
  border-radius: var(--radio-borde);
  background-color: var(--color-modal-panel-claro);
  box-shadow: var(--sombra-modal-panel-claro);
  
  /* Añadimos estructura flex para gestionar espaciado interno */
  display: flex;
  flex-direction: column;
  gap: var(--espaciado);
}

.modal-ayuda__subtitulo {
  font-size: 1.25rem;
  color: var(--color-primario-oscuro);
  /* Eliminamos margin-bottom: var(--espaciado-s); */
  display: flex;
  align-items: center;
  border-bottom: 0.0625rem solid var(--color-borde);
  padding-bottom: var(--espaciado-s);
}

/* Listas con buen espaciado para legibilidad */
.modal-ayuda__lista {
  padding-left: var(--espaciado-l);
  /* Eliminamos margin-bottom: var(--espaciado); */
  /* El gap en .modal-ayuda__seccion ya maneja este espaciado */
  
  /* Reemplazamos line-height con estructura flex */
  display: flex;
  flex-direction: column;
  gap: var(--espaciado-s); /* Para el espaciado entre elementos de la lista */
}

.modal-ayuda__lista li {
  /* Eliminamos margin-bottom: var(--espaciado-s); */
  /* El gap en .modal-ayuda__lista ya maneja este espaciado */
  padding-top: 0.25em;
  padding-bottom: 0.25em;
}

/* ==========================================================================
   TEMA OSCURO (para los modales)
   ========================================================================== */
[data-theme="dark"] .modal {
  background-color: var(--modal-bg, hsl(var(--tono-principal), 15%, 12%));
  color: var(--color-texto);
  border: 0.0625rem solid var(--color-borde);
}

[data-theme="dark"] .modal__titulo {
  color: var(--color-primario);
  border-bottom-color: var(--color-borde);
}

[data-theme="dark"] .modal__boton--secundario {
  background-color: var(--color-borde);
  color: var(--color-texto);
}

[data-theme="dark"] .modal__boton--secundario:hover {
  background-color: var(--color-boton-secundario-hover-dark);
}

[data-theme="dark"] #modal-victoria .modal__estadisticas {
  background-color: var(--color-primario-claro);
  color: var(--color-texto);
}

[data-theme="dark"] .modal-ayuda__seccion {
  background-color: var(--color-modal-panel-oscuro);
  box-shadow: var(--sombra-modal-panel-oscuro);
}

[data-theme="dark"] .modal-ayuda__subtitulo {
  color: var(--color-primario);
}

/* ==========================================================================
   MODAL DE JUEGO DETENIDO - Variante visual del modal de estadísticas
   ========================================================================== */
#modal-detenido {
  max-width: 90%;
  width: 25rem; /* 400px */
}

#modal-detenido .modal__contenido {
  text-align: center;
  display: flex;
  flex-direction: column;
  gap: var(--espaciado-l);
}

#modal-detenido .modal__mensaje {
  /* Eliminamos margin-bottom: var(--espaciado-l); */
  /* El gap en el contenedor ya maneja este espaciado */
  color: var(--color-texto);
}

#modal-detenido .modal__estadisticas {
  background-color: var(--color-celda-destino);
  padding: var(--espaciado);
  border-radius: var(--radio-borde);
  /* Eliminamos margin-bottom: var(--espaciado-l); */
  font-weight: 600;
  border: 0.0625rem solid var(--color-borde);
}

/* Versión para tema oscuro */
[data-theme="dark"] #modal-detenido .modal__estadisticas {
  background-color: var(--color-modal-panel-oscuro);
  color: var(--color-texto);
  border-color: var(--color-borde);
}

/* ==========================================================================
   RESPONSIVE
   ========================================================================== */
@media (max-width: 48rem) { /* 768px */
  .modal-ayuda__secciones {
    flex-direction: column;
  }
  
  .modal-ayuda__seccion {
    width: 100%;
  }
}

